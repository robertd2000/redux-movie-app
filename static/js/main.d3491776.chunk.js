(this["webpackJsonpredux-movie-app"]=this["webpackJsonpredux-movie-app"]||[]).push([[0],{25:function(e,t,n){e.exports={position:"Loader_position__24ltX",lds_ellipsis:"Loader_lds_ellipsis__Stz89","lds-ellipsis1":"Loader_lds-ellipsis1__1ENFr","lds-ellipsis2":"Loader_lds-ellipsis2__3RPK5","lds-ellipsis3":"Loader_lds-ellipsis3__1d5rg"}},35:function(e,t,n){},36:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(16),a=n.n(i),o=(n(35),n(3)),r=(n(36),n(11)),l=n(1),j=function(){return Object(l.jsx)("div",{className:"header",children:Object(l.jsxs)("div",{className:"headerInner",children:[Object(l.jsx)(r.b,{className:"nav",to:"/",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(l.jsx)(r.b,{className:"nav",to:"/savedMovies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435"})]})})},u=n(5),d=n(28),b=n(29),v="https://www.omdbapi.com/",O=function(){function e(){Object(d.a)(this,e)}return Object(b.a)(e,null,[{key:"getMovies",value:function(e,t){return fetch("".concat(v,"?s=").concat(e,"&apikey=4a3b711b&page=").concat(t))}},{key:"getTotalRes",value:function(e){return fetch("".concat(v,"?s=").concat(e,"&apikey=4a3b711b")).then((function(e){return e.json()})).then((function(e){return e.totalResults}))}}]),e}(),h="GET_MOVIES",m="IS_LOADING",p="TOTAL_RESULTS",f="SAVE_MOVIE",x=function(e){return{type:h,movies:e}},g=function(e){return{type:m,val:e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"man",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){n(g(!0)),O.getMovies(e,t).then((function(e){return e.json()})).then((function(e){console.log(e.Search),n(x(e.Search)),n(g(!1))}))}},M=function(e){var t=e.data,n=Object(u.c)();return Object(l.jsx)("div",{className:"movie-item",children:Object(l.jsxs)("div",{children:[t.Poster?Object(l.jsx)("img",{src:t.Poster,alt:""}):Object(l.jsx)("img",{src:"http://underscoremusic.co.uk/site/wp-content/uploads/2014/05/no-poster.jpg",alt:""}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h2",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430: ",t.Title]}),Object(l.jsx)("h4",{children:t.Type}),Object(l.jsxs)("h3",{children:["\u0413\u043e\u0434 \u0432\u044b\u0445\u043e\u0434\u0430: ",t.Year]}),Object(l.jsx)("button",{onClick:function(){return n({type:f,movie:t})},className:"saveBtn",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})},N=n(25),L=n.n(N),S=function(){return Object(l.jsx)("div",{className:L.a.position,children:Object(l.jsxs)("div",{className:L.a.lds_ellipsis,children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})})},y=n(19),R=n(15),T=Object(u.b)((function(e){return{totalResults:e.totalResults}}),{getTotalResults:function(e){return function(t){O.getTotalRes(e).then((function(e){t({type:p,total:e})}))}},getMovies:_})((function(e){var t=Object(c.useState)(1),n=Object(y.a)(t,2),s=n[0],i=n[1];Object(c.useEffect)((function(){e.getTotalResults(e.movie)}));for(var a=[],o=Math.ceil(e.totalResults/10),r=1;r<=o;r++)a.push(r);var j=function(t,n){!function(e){i(e)}(t),e.getMovies(n,t)},u=a.map((function(t){return Object(l.jsxs)("span",{className:t==s?"pageItem active":"pageItem",onClick:function(){return j(t,e.movie)},children:[" ",t," "]},t)}));return Object(l.jsx)("div",{children:u.length>20?[].concat(Object(R.a)(u.slice(0,20)),["...",u[u.length-1]]):u})})),I=function(e){var t=Object(c.useState)("man"),n=Object(y.a)(t,2),s=n[0],i=n[1],a=Object(u.c)(),o=Object(u.d)((function(e){return e.movies}));return Object(l.jsxs)("div",{className:"search",children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(_(s)),console.log(o)},children:[Object(l.jsx)("input",{className:"input",onChange:function(e){i(e.target.value)},type:"text",value:s}),Object(l.jsx)("button",{className:"btn-form",type:"submit",children:Object(l.jsxs)("svg",{viewBox:"0 0 512 512",className:"Search_svg__2NNl0 ",children:[Object(l.jsx)("g",{children:Object(l.jsx)("g",{children:Object(l.jsx)("path",{d:"M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474\r c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323\r c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848\r S326.847,409.323,225.474,409.323z"})})}),Object(l.jsx)("g",{children:Object(l.jsx)("g",{children:Object(l.jsx)("path",{d:"M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328\r c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"})})})]})})]}),Object(l.jsx)(T,{movie:s})]})},k=Object(u.b)((function(e){return{movies:e.movies,isLoading:e.isLoading}}),{getMovies:_})((function(e){return Object(c.useEffect)((function(){e.getMovies("man",1)}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(I,{}),e.isLoading?Object(l.jsx)(S,{}):null,Object(l.jsx)("div",{className:"movies-list",children:e.movies?e.movies.map((function(e){return Object(l.jsx)(M,{data:e},e.imdbID+Math.random())})):"no"})]})})),C=function(){var e=Object(u.d)((function(e){return e.savedMovies}));return console.log(e),Object(l.jsx)("div",{className:"movies-list",children:e.map((function(e){return Object(l.jsx)(M,{data:e},e.imdbID+Math.random())}))})};var E=function(e){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsx)(o.a,{path:"/",exact:!0,component:k}),Object(l.jsx)(o.a,{path:"/savedMovies",exact:!0,component:C})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))},F=n(13),D=n(30),P=n(9),z={movies:[],savedMovies:[],isLoading:!1,totalResults:null},A=Object(F.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(P.a)(Object(P.a)({},e),{},{movies:Object(R.a)(t.movies)});case m:return Object(P.a)(Object(P.a)({},e),{},{isLoading:t.val});case p:return Object(P.a)(Object(P.a)({},e),{},{totalResults:t.total});case f:return console.log(e),Object(P.a)(Object(P.a)({},e),{},{savedMovies:[].concat(Object(R.a)(e.savedMovies),[t.movie])});default:return e}}),Object(F.a)(D.a));a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(r.a,{children:Object(l.jsx)(u.a,{store:A,children:Object(l.jsx)(E,{})})})}),document.getElementById("root")),w()}},[[43,1,2]]]);
//# sourceMappingURL=main.d3491776.chunk.js.map